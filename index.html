<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PangAI Firebase Panel</title>
<style>
body { 
    background: #111; 
    color: white; 
    font-family: sans-serif; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    padding:20px; 
}
#chatContainer { 
    width:90%; 
    max-width:600px; 
    height:400px; 
    overflow-y:auto; 
    background:#222; 
    padding:10px; 
    border-radius:10px; 
    margin-bottom:10px; 
}
.message { 
    margin:5px 0; 
    padding:5px; 
    border-radius:5px; 
}
.user { background:#444; }
.ai { background:#0a0; }
#replyInput { 
    width:70%; 
    padding:8px; 
    border-radius:5px; 
    border:none; 
    margin-right:5px; 
}
#sendBtn { 
    padding:8px 15px; 
    border:none; 
    border-radius:5px; 
    background:#00f; 
    color:#fff; 
    cursor:pointer; 
}
</style>
</head>
<body>

<h2>PangAI Firebase Panel</h2>

<div id="chatContainer"></div>

<div>
<input id="replyInput" placeholder="Type AI response..." />
<button id="sendBtn">Send</button>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
// ðŸ”¥ Your Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyBpDQlmOZHQrdRQF1mQPk_aPgxwb6gbheY",
  authDomain: "pangai.firebaseapp.com",
  projectId: "pangai",
  storageBucket: "pangai.firebasestorage.app",
  messagingSenderId: "456349287523",
  appId: "1:456349287523:web:e0a252e4b55f3dd294e456"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const chatContainer = document.getElementById('chatContainer');
const replyInput = document.getElementById('replyInput');
const sendBtn = document.getElementById('sendBtn');

// Function to render a message in the chat container
function renderMessage(doc) {
  const div = document.createElement('div');
  div.className = 'message ' + doc.data().type;
  div.textContent = (doc.data().type === 'ai' ? 'AI: ' : 'User: ') + doc.data().text;
  chatContainer.appendChild(div);
  chatContainer.scrollTop = chatContainer.scrollHeight;
}

// Listen for new messages in Firestore in real-time
db.collection('messages').orderBy('timestamp')
  .onSnapshot(snapshot => {
    chatContainer.innerHTML = '';
    snapshot.forEach(doc => renderMessage(doc));
  });

// Send AI response
sendBtn.onclick = () => {
  const text = replyInput.value.trim();
  if(!text) return;
  db.collection('messages').add({
    text: text,
    type: 'ai',
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
  });
  replyInput.value = '';
};
</script>

</body>
</html>
